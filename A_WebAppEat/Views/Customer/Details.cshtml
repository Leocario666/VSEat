@model IEnumerable<DTO.Order>

@{
    ViewData["Title"] = "Details";
    IEnumerable<DTO.Delivery_staff> staffs = ViewData["AllStaffs"] as IEnumerable<DTO.Delivery_staff>;
}

<h2>Hello @ViewBag.login</h2>

    <table class="table">
        <thead>
            <tr>
                <th>
                    Status
                </th>
                <th>
                    Created at
                </th>
                <th>
                    Delivery time
                </th>
                <th>
                    Deliverer in charge
                </th>

            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                string name = "";
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.status)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.created_at)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.delivery_time)
                    </td>
                    <td>
                        @foreach(var staff in staffs)
                        {
                            if (item.delivery_staff_Id == staff.delivery_staff_Id)
                            {
                                name = staff.first_name +" "+ staff.last_name;
                            }
                            
                        }
                        @name
                    </td>
                </tr>
            }
        </tbody>
    </table>

<a href="@Url.Action("CustomerTransition", "Customer")" class="btn btn-default">Logout</a>
<a href="@Url.Action("Index", "Home")" class="btn btn-default">Back to home page</a>